<!DOCTYPE html>
<html>
<head>
<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyA-ulrnoJmqEp71o6babfYEETn82k8J-Xc&sensor=true">
</script>

<style type="text/css">
html {height:100%}
body {height:100%;margin:0;padding:0}
#googleMap {height:100%}
</style>

<script>
// var myLatlng = new google.maps.LatLng(49.215116, -2.133743);
// var markers = [];
// var route = 1;

// var mapOptions = {
//   zoom: 12,
//   center: myLatlng,
//   scrollwheel: false
// };

// var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

// // jQuery Get
// $(function() {
//   'use strict';
//   updateMap();

//   $("#route").on('change', function(e) {
//     route = $(this).val();
//     updateMap();
//   });
// });

// function clearMap()
// {
//   'use strict';
//   if (markers.length === 0) {
//     return;
//   }

//   for (var i = 0; i < markers.length; i++) {
//     markers[i].setMap(null);   
//   }

//   markers = [];

//   return;
// }

// function updateMap() 
// {
//   'use strict';
//   console.log('Updating');
//   var apiUrl = 'https://bus.data.je/line/' + route + '?user=hackathondemo&pass=hackathondemo';
//   $.getJSON( apiUrl, function( data ) {

//     clearMap();

//     var arrayLength = data.length;

//     for (var i = 0; i < arrayLength; i++) {

//       if (data[i][0]["MonitoredVehicleJourney"]["PublishedLineName"] != route) {
//         continue;
//       } 
//       var latLng = new google.maps.LatLng(data[i][0].loc.coordinates[1], data[i][0].loc.coordinates[0]);
//       var marker = new google.maps.Marker({
//         position: latLng,
//         map: map
//       });

//       markers.push(marker);

//     }
  
//   });

//   setTimeout(updateMap, 30000 );

// }

function initialize()
{
var mapProp = {
  center:new google.maps.LatLng(49.215116, -2.133743),
  zoom:12,
  mapTypeId:google.maps.MapTypeId.ROADMAP
  };
var map= new google.maps.Map(document.getElementById("map-canvas")
  ,mapProp);
}

google.maps.event.addDomListener(window, 'load', initialize);
</script>
</head>

<body>
<div id="map-canvas" style="width:100% ;height: 100%;"></div>

</body>
</html>
